/* ============================================================================
   Color Palette & Design Tokens
   ============================================================================ */

/* ─────────────────────────────────────────────────────────────────────────
   COMMON COLORS (Theme-independent)
   ───────────────────────────────────────────────────────────────────────── */
:root {
  /* Semantic colors */
  --color-primary: #007AFF;
  --color-primary-dark: #0051D5;
  --color-success: #34C759;
  --color-success-dark: #248A3D;
  --color-error: #ff3b30;
  --color-error-hover: #ff453a;

  /* Tooltip text (universal) */
  --text-tooltip: #f7f7f7;
}

/* ─────────────────────────────────────────────────────────────────────────
   LIGHT THEME (Glassmorphism)
   ───────────────────────────────────────────────────────────────────────── */
:root[data-theme="light"],
:root:not([data-theme]) {
  /* Backgrounds */
  --bg-tabbar: rgba(32, 31, 31, 1);
  --bg-icon: rgba(32, 31, 31, 1);
  --bg-tooltip: rgba(20, 20, 20, 0.95);
  --bg-container: rgba(255, 255, 255, 0.85);
  --bg-header: rgba(255, 255, 255, 0.4);
  --bg-tab-inactive: rgba(255, 255, 255, 0.6);
  --bg-editor: rgba(255, 255, 255, 0.9);

  /* Text */
  --text-primary: rgba(0, 0, 0, 0.85);
  --text-secondary: rgba(0, 0, 0, 0.65);
  --text-tertiary: rgba(0, 0, 0, 0.5);
  --text-quaternary: rgba(0, 0, 0, 0.3);

  /* Borders */
  --border-light: rgba(0, 0, 0, 0.08);
  --border-dark: rgba(0, 0, 0, 0.1);

  /* Overlays & Interactive */
  --overlay-subtle: rgba(0, 0, 0, 0.04);
  --overlay-button-bg: rgba(0, 0, 0, 0.04);
  --overlay-hover: rgba(0, 0, 0, 0.04);
  --overlay-active: rgba(0, 0, 0, 0.08);
  --overlay-button-close: rgba(255, 59, 48, 0.1);

  /* Shadows */
  --shadow-sm: rgba(0, 0, 0, 0.15);
  --shadow-md: rgba(0, 0, 0, 0.25);
  --shadow-lg: rgba(0, 0, 0, 0.35);
  --shadow-tooltip: rgba(0, 0, 0, 0.35);

  /* Scrollbar */
  --scrollbar-default: rgba(0, 0, 0, 0.15);
  --scrollbar-hover: rgba(0, 0, 0, 0.25);
}

/* ─────────────────────────────────────────────────────────────────────────
   DARK THEME (Matte + Blue accent)
   ───────────────────────────────────────────────────────────────────────── */
:root[data-theme="dark"] {
  /* Backgrounds */
  --bg-container: rgba(30, 30, 30, 0.95);
  --bg-header: rgba(255, 255, 255, 0.05);
  --bg-tooltip: rgba(40, 40, 40, 0.98);
  --bg-tabbar: rgba(32, 31, 31, 1);
  --bg-icon: rgba(32, 31, 31, 1);
  --bg-tab-inactive: rgba(255, 255, 255, 0.1);
  --bg-editor: rgba(29, 29, 36, 1);

  /* Text */
  --text-primary: rgba(255, 255, 255, 0.9);
  --text-secondary: rgba(255, 255, 255, 0.8);
  --text-tertiary: rgba(255, 255, 255, 0.6);
  --text-quaternary: rgba(255, 255, 255, 0.4);

  /* Borders */
  --border-light: rgba(255, 255, 255, 0.1);
  --border-dark: rgba(255, 255, 255, 0.15);

  /* Overlays & Interactive */
  --overlay-subtle: rgba(255, 255, 255, 0.08);
  --overlay-button-bg: rgba(255, 255, 255, 0.08);
  --overlay-hover: rgba(255, 255, 255, 0.08);
  --overlay-active: rgba(255, 255, 255, 0.12);
  --overlay-button-close: rgba(255, 59, 48, 0.1);

  /* Shadows */
  --shadow-sm: rgba(0, 0, 0, 0.5);
  --shadow-md: rgba(0, 0, 0, 0.5);
  --shadow-lg: rgba(0, 0, 0, 0.5);
  --shadow-tooltip: rgba(0, 0, 0, 0.5);

  /* Scrollbar */
  --scrollbar-default: rgba(255, 255, 255, 0.2);
  --scrollbar-hover: rgba(255, 255, 255, 0.3);
}

/* ─────────────────────────────────────────────────────────────────────────
   System dark mode fallback
   ───────────────────────────────────────────────────────────────────────── */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    /* Backgrounds */
    --bg-container: rgba(30, 30, 30, 0.95);
    --bg-header: rgba(255, 255, 255, 0.05);
    --bg-tooltip: rgba(40, 40, 40, 0.98);
    --bg-tab-inactive: rgba(255, 255, 255, 0.1);
    --bg-editor: rgba(29, 29, 36, 1);

    /* Text */
    --text-primary: rgba(255, 255, 255, 0.9);
    --text-secondary: rgba(255, 255, 255, 0.8);
    --text-tertiary: rgba(255, 255, 255, 0.6);
    --text-quaternary: rgba(255, 255, 255, 0.4);

    /* Borders */
    --border-light: rgba(255, 255, 255, 0.1);
    --border-dark: rgba(255, 255, 255, 0.15);

    /* Overlays & Interactive */
    --overlay-subtle: rgba(255, 255, 255, 0.08);
    --overlay-button-bg: rgba(255, 255, 255, 0.08);
    --overlay-hover: rgba(255, 255, 255, 0.08);
    --overlay-active: rgba(255, 255, 255, 0.12);
    --overlay-button-close: rgba(255, 59, 48, 0.1);

    /* Shadows */
    --shadow-sm: rgba(0, 0, 0, 0.5);
    --shadow-md: rgba(0, 0, 0, 0.5);
    --shadow-lg: rgba(0, 0, 0, 0.5);
    --shadow-tooltip: rgba(0, 0, 0, 0.5);

    /* Scrollbar */
    --scrollbar-default: rgba(255, 255, 255, 0.2);
    --scrollbar-hover: rgba(255, 255, 255, 0.3);
  }
}
